# Development Environment Configuration
# This file contains development-specific settings

# =====================================================
# DEVELOPMENT MODE SETTINGS
# =====================================================

# Server Configuration
DEBUG=true
NODE_ENV=development
RELOAD_ON_CHANGE=true
AUTO_RELOAD=true
LOG_LEVEL=DEBUG

# =====================================================
# AUTHENTICATION & SECURITY - DEVELOPMENT
# =====================================================

# JWT Configuration (less secure for development)
JWT_SECRET_KEY=development-secret-key-not-for-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60  # Longer for development convenience
REFRESH_TOKEN_EXPIRE_DAYS=30

# Database Configuration
DATABASE_PATH=data/rag_assistant_dev.db

# CORS Configuration (permissive for development)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:8006,http://127.0.0.1:3000
CORS_CREDENTIALS=true

# Rate Limiting (relaxed for development)
RATE_LIMIT_RPM=300
RATE_LIMIT_BURST=50

# Security Settings
REQUIRE_AUTH=true
CREATE_DEMO_USERS=true

# =====================================================
# LOCAL DEVELOPMENT SERVICE URLS
# =====================================================

# Auth Service
AUTH_SERVICE_URL=http://localhost:8006
AUTH_SERVICE_PORT=8006

# API Gateway  
API_GATEWAY_URL=http://localhost:8000
API_GATEWAY_PORT=8000

# Processing Services
DOCUMENT_PROCESSOR_URL=http://localhost:8003
DOCUMENT_PROCESSING_PORT=8003

MODEL_INFERENCE_URL=http://localhost:8002
MODEL_INFERENCE_PORT=8002

DOCSTRANGE_URL=http://localhost:8005
DOCSTRANGE_PORT=8005

# Database Services
CHROMADB_URL=http://localhost:8004
CHROMADB_PORT=8004

# Frontend
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_AUTH_URL=http://localhost:8006

# =====================================================
# DEVELOPMENT API KEYS (USE DUMMY VALUES)
# =====================================================

# DocStrange (can be dummy for development)
DOCSTRANGE_API_KEY=5f7583ed-b5d8-11f0-9225-2efa885dd201

# Groq API Key (add your development key)
GROQ_API_KEY=your_development_groq_key_here

# Ollama (local development)
OLLAMA_HOST=http://127.0.0.1:11434

# =====================================================
# FRONTEND DEVELOPMENT SETTINGS
# =====================================================

NEXT_PUBLIC_AUTH_ENABLED=true
NEXT_PUBLIC_DEMO_MODE=true

# =====================================================
# DATABASE & STORAGE - DEVELOPMENT
# =====================================================

# ChromaDB Settings
IS_PERSISTENT=TRUE
PERSIST_DIRECTORY=./data/chroma
ANONYMIZED_TELEMETRY=false
ALLOW_RESET=true
CHROMA_SERVER_HOST=0.0.0.0
CHROMA_SERVER_HTTP_PORT=8004

# Storage Paths
SESSION_STORAGE_PATH=sessions
MARKDOWN_DATA_PATH=data/markdown

# =====================================================
# DEVELOPMENT DEMO USERS
# =====================================================

DEMO_ADMIN_USERNAME=admin
DEMO_ADMIN_PASSWORD=admin
DEMO_TEACHER_USERNAME=teacher
DEMO_TEACHER_PASSWORD=teacher
DEMO_STUDENT_USERNAME=student
DEMO_STUDENT_PASSWORD=student

# =====================================================
# LOGGING & DEBUGGING
# =====================================================

ENABLE_ACCESS_LOGS=true
ENABLE_ERROR_LOGS=true
ENABLE_AUTH_LOGS=true

LOG_DIR=logs
AUTH_LOG_FILE=logs/auth_dev.log
API_LOG_FILE=logs/api_dev.log

# =====================================================
# TESTING CONFIGURATION
# =====================================================

TEST_DATABASE_PATH=test_rag_assistant_dev.db
PYTEST_TIMEOUT=600  # Longer timeout for development
PYTEST_VERBOSE=true

# =====================================================
# DEVELOPMENT TOOLS
# =====================================================

# Hot reload settings
WATCHDOG_ENABLED=true
RELOAD_DIRS=src,services,frontend

# Development server settings
HOST=0.0.0.0
WORKERS=1  # Single worker for development

# Development profiling
ENABLE_PROFILER=false
PROFILER_OUTPUT_DIR=profiling

# =====================================================
# RERANKER SERVICE CONFIGURATION - ALIBABA
# =====================================================

# Enable new reranker service (Alibaba DashScope)
USE_RERANKER_SERVICE=true
RERANKER_TYPE=alibaba

# Reranker Service URL
RERANKER_SERVICE_URL=http://localhost:8008
RERANKER_SERVICE_HOST=reranker-service
RERANKER_SERVICE_PORT=8008

# Alibaba DashScope API Configuration
# Use existing ALIBABA_API_KEY for reranker
DASHSCOPE_API_KEY=${ALIBABA_API_KEY}
ALIBABA_RERANKER_MODEL=gte-rerank-v2
ALIBABA_RERANKER_API_BASE=https://dashscope.aliyuncs.com/api/v1/services/rerank/text-rerank/text-rerank